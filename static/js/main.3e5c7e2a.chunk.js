(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(31).concat([function(e,t,c){},function(e,t,c){},function(e,t,c){},,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(20),n=c.n(s),a=c(6),r=c(3),i=(c(31),c(1)),o=c(10),l=c.n(o),j=(c(32),c.p+"static/media/logo.2d8d3e42.svg"),d=c(4),b=(c(33),c(26)),u=c.n(b);function m(e,t){var c=new URLSearchParams(t.toString());return Object.entries(e).forEach((function(e){var t=Object(d.a)(e,2),s=t[0],n=t[1];null===n?c.delete(s):Array.isArray(n)?(c.delete(s),n.forEach((function(e){c.append(s,e)}))):c.set(s,n)})),c.toString()}var h=c(0),O=function(){var e=Object(r.n)().pathname,t=Object(a.d)(),c=Object(d.a)(t,2),s=c[0],n=c[1],o=s.get("query"),j=Object(i.useState)(!1),b=Object(d.a)(j,2),O=b[0],_=b[1],p=Object(i.useState)(o||""),x=Object(d.a)(p,2),f=x[0],g=x[1],N=Object(i.useRef)(null),v=Object(i.useRef)(!0);Object(i.useEffect)((function(){N.current&&O&&N.current.focus()}),[O]),Object(i.useEffect)((function(){v.current?v.current=!1:g("")}),[e]);var y=u()((function(e){n(m({query:e||null},s))}),1e3);return Object(h.jsxs)("label",{htmlFor:"search",className:"searchField",children:[Object(h.jsx)("input",{type:"text",id:"search",className:l()("searchField__input",{focus:O}),placeholder:"Search in ".concat(e.slice(1)," ..."),autoComplete:"off",ref:N,value:f,onChange:function(e){g(e.target.value),y(e.target.value)},onBlur:function(){return _(!1)},onFocus:function(){return _(!0)}}),f?Object(h.jsx)("button",{type:"button",className:"searchField__btn","data-cy":"searchDelete","aria-label":"search",onClick:function(){g(""),n(m({query:null},s))},children:Object(h.jsx)("div",{className:"icon icon--delete"})}):Object(h.jsx)("button",{type:"button",className:"searchField__btn","aria-label":"search",onClick:function(){return _(!0)},children:Object(h.jsx)("div",{className:"icon icon--search"})})]})},_=function(){var e=function(e){var t=e.isActive;return l()("nav__link",{"is-active":t})},t=Object(r.n)().pathname,c="/phones"===t||"/tablets"===t||"/accessories"===t||"/favorites"===t;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("header",{className:"header",children:[Object(h.jsxs)("div",{className:"header__links",children:[Object(h.jsx)(a.b,{className:"header__logo",to:"/",children:Object(h.jsx)("img",{src:j,alt:"logo"})}),Object(h.jsx)("div",{className:"nav",children:Object(h.jsxs)("ul",{className:"nav__list",children:[Object(h.jsx)("li",{className:"nav__item",children:Object(h.jsx)(a.c,{to:"/",className:e,children:"Home"})}),Object(h.jsx)("li",{className:"nav__item",children:Object(h.jsx)(a.c,{to:"/phones",className:e,children:"Phones"})}),Object(h.jsx)("li",{className:"nav__item",children:Object(h.jsx)(a.c,{to:"/tablets",className:e,children:"tablets"})}),Object(h.jsx)("li",{className:"nav__item",children:Object(h.jsx)(a.c,{to:"/accessories",className:e,children:"accessories"})})]})})]}),Object(h.jsxs)("div",{className:"header__icons",children:[c&&Object(h.jsx)(O,{}),Object(h.jsx)(a.c,{to:"/favorites",className:"header__icons--link",children:Object(h.jsx)("div",{className:"header__icons--link-img icon icon--fav"})}),Object(h.jsx)(a.c,{to:"/shop",className:"header__icons--link",children:Object(h.jsx)("div",{className:"header__icons--link-img icon icon--shop"})})]})]})})},p=c(9),x=(c(37),c.p+"static/media/arrow-left.c0d01b22.svg"),f=c.p+"static/media/arrow-right.4756c064.svg",g=(c(38),function(e){var t=e.product,c=t.phoneId,s=t.name,n=t.price,r=t.fullPrice,i=t.screen,o=t.capacity,l=t.ram,j=t.image;return Object(h.jsxs)(a.b,{to:"/".concat(t.category,"/").concat(c),className:"productCard","data-cy":"cardsContainer",children:[Object(h.jsx)("div",{className:"productCard__photo",children:Object(h.jsx)("img",{src:"".concat("https://mate-academy.github.io/react_phone-catalog/_new/").concat(j),alt:"product",className:"productCard__img"})}),Object(h.jsx)("div",{className:"productCard__title",children:Object(h.jsx)("h4",{className:"productCard__title--text",children:s})}),Object(h.jsxs)("div",{className:"productCard__price",children:[Object(h.jsx)("span",{className:"productCard__price--current",children:"$".concat(n)}),Object(h.jsx)("span",{className:"productCard__price--full",children:"$".concat(r)})]}),Object(h.jsxs)("div",{className:"productCard__info",children:[Object(h.jsxs)("div",{className:"productCard__info--wrapper",children:[Object(h.jsx)("span",{className:"productCard__info--title",children:"Screen"}),Object(h.jsx)("span",{className:"productCard__info--description",children:i})]}),Object(h.jsxs)("div",{className:"productCard__info--wrapper",children:[Object(h.jsx)("span",{className:"productCard__info--title",children:"Capacity"}),Object(h.jsx)("span",{className:"productCard__info--description",children:o})]}),Object(h.jsxs)("div",{className:"productCard__info--wrapper",children:[Object(h.jsx)("span",{className:"productCard__info--title",children:"RAM"}),Object(h.jsx)("span",{className:"productCard__info--description",children:l})]})]}),Object(h.jsxs)("div",{className:"productCard__buttons",children:[Object(h.jsx)("button",{className:"buttonAdd",type:"button",children:"Add to card"}),Object(h.jsx)("button",{className:"buttonFav",type:"button",children:Object(h.jsx)("div",{className:"icon icon--fav"})})]})]})}),N=(c(39),function(){return Object(h.jsx)("div",{className:"loader",children:Object(h.jsx)("div",{className:"loader__content"})})}),v=function(e){var t=e.products,c=e.isLoading,s=e.isError,n=e.title,a=Object(i.useState)(0),r=Object(d.a)(a,2),o=r[0],l=r[1];return Object(h.jsxs)("section",{className:"productsSlider",children:[Object(h.jsxs)("div",{className:"productsSlider__header",children:[Object(h.jsx)("h1",{className:"productsSlider__header--title",children:n}),Object(h.jsxs)("div",{className:"productsSlider__header--btn",children:[Object(h.jsx)("button",{className:"productsSlider__button",type:"button",onClick:function(){l((function(e){return Math.max(e-1,0)}))},disabled:0===o,children:Object(h.jsx)("img",{src:x,alt:"button-left"})}),Object(h.jsx)("button",{className:"productsSlider__button",type:"button",onClick:function(){l((function(e){return Math.min(e+1,Math.ceil(t.length/4)-1)}))},disabled:o===Math.ceil(t.length/4)-1,children:Object(h.jsx)("img",{src:f,alt:"button-left"})})]})]}),Object(h.jsxs)("div",{className:"productsSlider__content",children:[c&&!s&&Object(h.jsx)(N,{}),!c&&s&&Object(h.jsx)("p",{children:"Error: Unable to load data from server!"}),!c&&!s&&Object(h.jsx)("ul",{className:"productsSlider__list",style:{transform:"translateX(-".concat(1152*o,"px)")},children:t.map((function(e){return Object(h.jsx)("li",{className:"productsSlider__item",children:Object(h.jsx)(g,{product:e})},e.id)}))})]})]})},y=(c(40),c.p+"static/media/banner-accessories.bdd2e0fc.png"),C=c.p+"static/media/banner-phones.b4eeda8b.png",k=[y,c.p+"static/media/banner-tablets.a962057c.png",C],w=function(){var e=Object(i.useState)(0),t=Object(d.a)(e,2),c=t[0],s=t[1],n=function(e){var t=e;e<0?t=2:t>=3&&(t=0),s(t)};return Object(h.jsxs)("div",{className:"slider",children:[Object(h.jsxs)("div",{className:"slider__wrapper",children:[Object(h.jsx)("button",{className:"slider__button slider__button--left",type:"button",onClick:function(){return n(c-1)},children:Object(h.jsx)("img",{src:x,alt:"button-left"})}),Object(h.jsx)("div",{className:"slider__container",children:Object(h.jsx)("ul",{className:"slider__list",style:{transform:"translate(-".concat(1040*c,"px)")},children:k.map((function(e){return Object(h.jsx)("li",{className:"slider__item",children:Object(h.jsx)("img",{src:e,alt:"slider",className:"slider__img"})},e)}))})}),Object(h.jsx)("button",{className:"slider__button slider__button--right",type:"button",onClick:function(){return n(c+1)},children:Object(h.jsx)("img",{src:f,alt:"button-right"})})]}),Object(h.jsx)("div",{className:"slider__dots",children:k.map((function(e,t){return Object(h.jsx)("button",{type:"button","aria-label":"position",onClick:function(){return s(t)},className:l()("slider__dots--item",{"dots-active":c===t})},e)}))})]})},S="https://mate-academy.github.io/react_phone-catalog/_new/";function P(e){return new Promise((function(t){setTimeout(t,e)}))}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s={method:t};return c&&(s.body=JSON.stringify(c),s.headers={"Content-Type":"application/json; charset=UTF-8"}),P(300).then((function(){return fetch(S+e,s)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var T=function(e){return A(e)},E=function(){return T("products.json")},I=(c(41),c.p+"static/media/category-phones.9d91280e.png"),F=c.p+"static/media/category-tablets.ab919a9b.png",L=c.p+"static/media/category-accessories.c89ddada.png",M=function(){return Object(h.jsxs)("section",{className:"categories","data-cy":"categoryLinksContainer",children:[Object(h.jsx)("h1",{className:"categories__title",children:"Shop by category"}),Object(h.jsxs)("div",{className:"categories__content",children:[Object(h.jsxs)(a.b,{className:"categories__item",to:"/phones",children:[Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:I,alt:"category-phones",className:"categories__item--img"})}),Object(h.jsx)("p",{className:"categories__item--title",children:"Mobile phones"}),Object(h.jsx)("span",{className:"categories__item--amount",children:"95 models"})]}),Object(h.jsxs)(a.b,{className:"categories__item",to:"/tablets",children:[Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:F,alt:"category-tablets",className:"categories__item--img categories__item--tablets"})}),Object(h.jsx)("p",{className:"categories__item--title",children:"Tablets"}),Object(h.jsx)("span",{className:"categories__item--amount",children:"95 models"})]}),Object(h.jsxs)(a.b,{className:"categories__item",to:"/accessories",children:[Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:L,alt:"category-accessories",className:"categories__item--img categories__item--img-accessories"})}),Object(h.jsx)("p",{className:"categories__item--title",children:"Accessories"}),Object(h.jsx)("span",{className:"categories__item--amount",children:"95 models"})]})]})]})},R=function(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(i.useState)(!1),a=Object(d.a)(n,2),r=a[0],o=a[1],l=Object(i.useState)(!1),j=Object(d.a)(l,2),b=j[0],u=j[1];Object(i.useEffect)((function(){o(!0),E().then(s).catch((function(){u(!0)})).finally((function(){o(!1)}))}),[]);var m=Object(p.a)(c).sort((function(e,t){return t.fullPrice-t.price-(e.fullPrice-e.price)})),O=Object(p.a)(c).sort((function(e,t){return t.year-e.year}));return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(w,{}),Object(h.jsx)(v,{products:m,isLoading:r,isError:b,title:"Hot prices"}),Object(h.jsx)(M,{}),Object(h.jsx)(v,{products:O,isLoading:r,isError:b,title:"Brand new models"})]})},B=(c(42),c(43),function(e){var t=e.products;return Object(h.jsx)("ul",{className:"productList","data-cy":"productList",children:t.map((function(e){return Object(h.jsx)("li",{className:"productList__item",children:Object(h.jsx)(g,{product:e})},e.id)}))})});c(44);var q=function(e){return"age"===e?"Newest":"name"===e?"Alphabetically":"Cheapest"},U=function(e){var t=e.currentPage,c=e.pageAmount,s=Object(a.d)(),n=Object(d.a)(s,2),r=n[0],i=n[1],o=function(e,t){for(var c=[],s=e;s<=t;s+=1)c.push(s);return c}(1,c);return Object(h.jsxs)("div",{className:"pagination","data-cy":"pagination",children:[Object(h.jsx)("button",{className:l()("pagination__btn pagination__btn--left",{disabled:1===t}),"data-cy":"paginationLeft",type:"button",onClick:function(){i(m({page:"".concat(t-1)},r))},disabled:1===t,children:Object(h.jsx)("div",{className:"icon icon--left"})}),Object(h.jsx)("div",{className:"pagination__pages",children:o.map((function(e){return Object(h.jsx)(a.b,{to:{search:m({page:e.toString()},r)},className:l()("pagination__pages--link",{"active-link":t===e}),children:e},e)}))}),Object(h.jsx)("button",{className:l()("pagination__btn pagination__btn--right",{disabled:t===o.length}),"data-cy":"paginationRight",type:"button",onClick:function(){i(m({page:"".concat(t+1)},r))},disabled:t===o.length,children:Object(h.jsx)("div",{className:"icon icon--right"})})]})},J=c(15),D=(c(45),function(){var e=Object(i.useState)(!1),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(a.d)(),r=Object(d.a)(n,2),o=r[0],l=r[1],j=o.get("sort")||"",b=function(e){var t={sort:e};o.toString().includes("page")?l(m(Object(J.a)(Object(J.a)({},t),{},{page:"1"}),o)):l(m(t,o)),s(!1)};return Object(h.jsxs)("div",{className:"select",children:[Object(h.jsx)("label",{className:"select__title",htmlFor:"triger",children:"Sort by"}),Object(h.jsxs)("div",{className:"select__container",children:[Object(h.jsxs)("button",{type:"button",className:"select__btn",id:"triger",onClick:function(){return s(!c)},onBlur:function(e){var t;e.relatedTarget&&null!==(t=e.relatedTarget)&&void 0!==t&&t.className.includes("select__dropdown")||s(!1)},children:[Object(h.jsx)("p",{className:"select__btn--option",children:q(j)}),Object(h.jsx)("div",{className:"select__btn--icon icon icon--down"})]}),c&&Object(h.jsxs)("div",{className:"select__dropdown",children:[Object(h.jsx)("button",{type:"button",className:"select__dropdown--item",onClick:function(){return b("age")},children:"Newest"}),Object(h.jsx)("button",{type:"button",className:"select__dropdown--item",onClick:function(){return b("name")},children:"Alphabetically"}),Object(h.jsx)("button",{type:"button",className:"select__dropdown--item",onClick:function(){return b("price")},children:"Cheapest"})]})]})]})}),G="age",H="name",$="price";c(46);var X=function(){var e=Object(i.useState)(!1),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(a.d)(),r=Object(d.a)(n,2),o=r[0],l=r[1],j=o.get("perPage")||"",b=function(e){var t={perPage:e};o.toString().includes("page")?l(m(Object(J.a)(Object(J.a)({},t),{},{page:"1"}),o)):l(m(t,o)),s(!1)},u=j||"All";return Object(h.jsxs)("div",{className:"selectItems",children:[Object(h.jsx)("label",{className:"selectItems__title",htmlFor:"triger",children:"Items on page"}),Object(h.jsxs)("div",{className:"selectItems__container",children:[Object(h.jsxs)("button",{className:"selectItems__btn",type:"button",id:"triger",onClick:function(){return s(!c)},onBlur:function(e){var t;e.relatedTarget&&null!==(t=e.relatedTarget)&&void 0!==t&&t.className.includes("")||s(!1)},children:[Object(h.jsx)("p",{className:"selectItems__btn--option",children:u}),Object(h.jsx)("div",{className:"selectItems__btn--icon icon icon--down"})]}),c&&Object(h.jsxs)("div",{className:"selectItems__dropdown",children:[Object(h.jsx)("button",{className:"selectItems__dropdown--item",type:"button",onClick:function(){return b("All")},children:"All"}),Object(h.jsx)("button",{className:"selectItems__dropdown--item",type:"button",onClick:function(){return b("4")},children:"4"}),Object(h.jsx)("button",{className:"selectItems__dropdown--item",type:"button",onClick:function(){return b("8")},children:"8"}),Object(h.jsx)("button",{className:"selectItems__dropdown--item",type:"button",onClick:function(){return b("16")},children:"16"})]})]})]})},Y=(c(47),function(e){var t=e.product,c=e.category;return Object(h.jsxs)("div",{className:"breadCrambs",children:[Object(h.jsx)(a.b,{to:"/",className:"breadCrambs__link",children:Object(h.jsx)("div",{className:"icon icon--home"})}),Object(h.jsx)("div",{className:"icon icon--right"}),t?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(a.b,{to:"/".concat(c),className:"breadCrambs__link",children:c}),Object(h.jsx)("div",{className:"icon icon--right"}),Object(h.jsx)("span",{className:"breadCrambs__current",children:null===t||void 0===t?void 0:t.name})]}):Object(h.jsx)("span",{className:"breadCrambs__current",children:c})]})});Y.defaultProps={product:null};var z=function(){var e=Object(a.d)(),t=Object(d.a)(e,1)[0],c=Object(i.useState)([]),s=Object(d.a)(c,2),n=s[0],r=s[1],o=Object(i.useState)(!1),l=Object(d.a)(o,2),j=l[0],b=l[1],u=Object(i.useState)(!1),m=Object(d.a)(u,2),O=m[0],_=m[1],x=Object(i.useMemo)((function(){return function(e,t){var c=Object(p.a)(e),s=t.get("query".trim().toLowerCase()),n=t.get("sort");return c=c.sort((function(e,t){switch(n){case H:return e.name.localeCompare(t.name);case G:return t.year-e.year;case $:return e.price-t.price;default:return 0}})),s&&(c=c.filter((function(e){return e.name.trim().toLocaleLowerCase().includes(s)}))),c}(n,t)}),[n,t]),f=x.length,g=+(t.get("page")||"1"),v=+(t.get("perPage")||"")||f,y=Math.ceil(f/v),C=g*+v-v,k=v*g<f?v*g:f,w=Object(i.useMemo)((function(){return x.slice(C,k)}),[x,C,k]);return Object(i.useEffect)((function(){b(!0),E().then(r).catch((function(){_(!0)})).finally((function(){b(!1)}))}),[]),Object(h.jsxs)("div",{className:"productPage",children:[Object(h.jsx)(Y,{category:"Phones"}),Object(h.jsx)("h1",{className:"productPage__title",children:"Mobile phones"}),j&&Object(h.jsx)(N,{}),!j&&O&&Object(h.jsx)("p",{children:"Error: Unable to load data from server!"}),!j&&!O&&Object(h.jsx)("div",{className:"productPage__content",children:Object(h.jsx)("p",{className:"productPage__amount",children:"".concat(n.length," models")})}),Object(h.jsxs)("div",{className:"productPage__select",children:[Object(h.jsx)(D,{}),Object(h.jsx)(X,{})]}),w.length?Object(h.jsx)(B,{products:w}):Object(h.jsx)("p",{className:"NoSearchResults",children:"Now search results..."}),!!x.length&&1!==y&&Object(h.jsx)(U,{currentPage:g,pageAmount:y})]})},K=function(){return Object(h.jsx)("h1",{children:"Tablets"})},Q=function(){return Object(h.jsx)("h1",{children:"Accessories"})},V=(c(48),function(){return Object(h.jsx)("div",{className:"footer",children:Object(h.jsxs)("div",{className:"footer__container main main__container",children:[Object(h.jsx)(a.b,{to:"/",className:"footer__logo",children:Object(h.jsx)("img",{src:j,alt:"footer-logo",className:"footer__logo--img"})}),Object(h.jsxs)("div",{className:"footer__nav",children:[Object(h.jsx)(a.b,{to:"/",className:"footer__nav--link",children:"Github"}),Object(h.jsx)(a.b,{to:"/",className:"footer__nav--link",children:"Contacts"}),Object(h.jsx)(a.b,{to:"/",className:"footer__nav--link",children:"Rights"})]}),Object(h.jsxs)("button",{className:"footer__backToTop",type:"button",onClick:function(){!function e(){var t=window.scrollY;t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/8))}()},children:[Object(h.jsx)("p",{className:"footer__backToTop--message",children:"Back to top"}),Object(h.jsx)("div",{className:"footer__backToTop--btn",children:Object(h.jsx)("div",{className:"icon icon--toTop"})})]})]})})}),W=(c(49),c(50),function(){return Object(h.jsx)("div",{className:"notFoundPage",children:Object(h.jsx)("h1",{className:"notFoundPage__title",children:"Page not found"})})}),Z=function(){var e=Object(r.r)().productId,t=Object(i.useState)(null),c=Object(d.a)(t,2),s=c[0],n=c[1],a=Object(i.useState)(!1),o=Object(d.a)(a,2),l=o[0],j=o[1],b=Object(i.useState)(!1),u=Object(d.a)(b,2),m=u[0],O=u[1];return Object(i.useEffect)((function(){e&&(j(!0),function(e){return T("products/".concat(e,".json"))}(e).then(n).catch((function(){O(!0)})).finally((function(){j(!1)})))}),[e]),l?Object(h.jsx)(N,{}):m?Object(h.jsx)("p",{children:"Error: Unable to load data from server!"}):s?Object(h.jsx)("h1",{children:s.name}):Object(h.jsx)(W,{})},ee=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(a.a,{children:[Object(h.jsx)(_,{}),Object(h.jsx)("main",{className:"main",children:Object(h.jsx)("div",{className:"main__container",children:Object(h.jsxs)(r.d,{children:[Object(h.jsx)(r.b,{path:"/home",element:Object(h.jsx)(r.a,{to:"/",replace:!0})}),Object(h.jsx)(r.b,{index:!0,element:Object(h.jsx)(R,{})}),Object(h.jsxs)(r.b,{path:"/phones",children:[Object(h.jsx)(r.b,{index:!0,element:Object(h.jsx)(z,{})}),Object(h.jsx)(r.b,{path:":productID",element:Object(h.jsx)(Z,{})}),Object(h.jsx)(r.b,{path:"*",element:Object(h.jsx)(W,{})})]}),Object(h.jsx)(r.b,{path:"/tablets",element:Object(h.jsx)(K,{})}),Object(h.jsx)(r.b,{path:"/accessories",element:Object(h.jsx)(Q,{})})]})})}),Object(h.jsx)(V,{})]})})};n.a.render(Object(h.jsx)(ee,{}),document.getElementById("root"))}]),[[51,1,2]]]);
//# sourceMappingURL=main.3e5c7e2a.chunk.js.map